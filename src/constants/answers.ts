export const ANSWERS = [
  "56/4+9",
  "27*3-9",
  "72/4*3",
  "112-47",
  "34*2-9",
  "64/8-2",
  "4*9-13",
  "81/9+6",
  "60/5*9",
  "72/4+8",
  "24*3+6",
  "8*4-17",
  "18-2*5",
  "49/7+5",
  "40-2+9",
  "169-41",
  "28/7*6",
  "85/5-7",
  "72*2-9",
  "12*8-9",
  "45/9*3",
  "68/4*3",
  "96-8/2",
  "28-8/4",
  "195-87",
  "42/6*4",
  "162/27",
  "68/4+9",
  "96/8+7",
  "12*8-7",
  "81/9+2",
  "184-97",
  "144/12",
  "45/5+7",
  "24*3+9",
  "36/6*8",
  "9*4+27",
  "72/9+3",
  "9*5-13",
  "82/2+7",
  "145-62",
  "72/4*3",
  "16*3-9",
  "42+7*8",
  "89-6+7",
  "12/6+9",
  "9*7+85",
  "12/6*9",
  "86/2*3",
  "36/6*8",
  "12*4-9",
  "48/8+7",
  "36*2-9",
  "14/2*8",
  "72-9+3",
  "21*4+8",
  "72+9-3",
  "32+9-7",
  "45*2-8",
  "278-81",
  "64/8*3",
  "24*3-8",
  "94+2-9",
  "13*6-8",
  "27/9*6",
  "48/4-7",
  "22*8+3",
  "65/5*2",
  "195-68",
  "52*3-6",
  "36/6*3",
  "28+9-7",
  "81/9+3",
  "16*4+3",
  "67+4-2",
  "48+9-7",
  "36*2-4",
  "65/5+9",
  "34*3-8",
  "13*4-2",
  "35/7*8",
  "62/2*7",
  "52-4/2",
  "58-6+9",
  "64/8+3",
  "31+3*4",
  "9*2-11",
  "60/4+7",
  "16*4-9",
  "68/4*7",
  "129-33",
  "26*2+9",
  "64/4*9",
  "34+7-8",
  "11-4*2",
  "42/7+9",
  "31-8+6",
  "132-59",
  "21/3*9",
  "95/5-2",
  "34*4-8",
  "83-2+8",
  "96/6+5",
  "37+8*2",
  "26*3-7",
  "95/5+8",
  "28-3+7",
  "67+8-9",
  "72/9+8",
  "11*7+5",
  "39+4-8",
  "13*9+7",
  "35/5*6",
  "124-37",
  "41*4-8",
  "42/6*9",
  "18+6-3",
  "90/9+7",
  "21/7+9",
  "85/5*3",
  "88/4+1",
  "34*2+7",
  "2*9-13",
  "45-3*8",
  "84/7+9",
  "31-2+3",
  "56/7+5",
  "43*2-8",
  "3*4+91",
  "13+5*4",
  "16*7-9",
  "35/5+1",
  "34-9+7",
  "35/7*3",
  "132-19",
  "80/5*3",
  "32*9-7",
  "12*9+3",
  "14+2-9",
  "38*3-6",
  "80/5*3",
  "17*3-4",
  "90/9+7",
  "134-65",
  "120/10",
  "24/4+9",
  "28-9+7",
  "45/5-9",
  "82*2-7",
  "23-8+2",
  "84/7*5",
  "156-23",
  "90/5*2",
  "48/4+9",
  "14*8+4",
  "2*9-16",
  "12*9-5",
  "91/7+6",
  "30-1+8",
  "134-68",
  "2*8-10",
  "28/4+9",
  "13*9-7",
  "36/4*5",
  "168-21",
  "43*3+8",
  "75/5*8",
  "21+9-3",
  "39*3-8",
  "31*7+3",
  "81/9*2",
  "56/7+3",
  "183-35",
  "54/6*5",
  "3*9+59",
  "90/9+1",
  "12*9+5",
  "16*2+8",
  "70/7+3",
  "60/5*8",
  "23*5-7",
  "70/7*3",
  "84/3*4",
  "50-2+8",
];

const getAnswerOfDay = () => {
  const epochMs = new Date("August 1, 2022 00:00:00").valueOf();
  const now = Date.now();
  const msInDay = 86400000;
  const index = Math.floor((now - epochMs) / msInDay);
  const tomorrow = (index + 1) * msInDay + epochMs;

  const answer = ANSWERS[index % ANSWERS.length];

  return {
    answer,
    answerNumber: eval(answer),
    answerIndex: index,
    tomorrow,
  };
};

export const { answer, answerNumber, answerIndex, tomorrow } = getAnswerOfDay();

const sortStringAlphabetically = (str: string) => str.split("").sort().join("");

export const isWinningAnswerExact = (answer: string, guess: string) =>
  answer === guess;

export const isWinningAnswer = (answer: string, guess: string) => {
  return sortStringAlphabetically(answer) === sortStringAlphabetically(guess);
};
